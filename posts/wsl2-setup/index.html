<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="caphosra"><meta name=description content="WSL2をインストールすることが一筋縄ではいかなかったので、その教訓を書き残します。"><meta name=keywords content="wsl2,インストール,wsl,windows"><meta name=twitter:card content="summary"><meta name=twitter:image content="https://caphosra.net/images/icon.webp"><meta name=twitter:title content="WSL2を使えるようにする"><meta name=twitter:description content="WSL2をインストールすることが一筋縄ではいかなかったので、その教訓を書き残します。"><meta property="og:url" content="https://caphosra.net/posts/wsl2-setup/"><meta property="og:site_name" content="caphosra note"><meta property="og:title" content="WSL2を使えるようにする"><meta property="og:description" content="WSL2をインストールすることが一筋縄ではいかなかったので、その教訓を書き残します。"><meta property="og:locale" content="ja"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-03-14T20:04:43+09:00"><meta property="article:modified_time" content="2024-01-07T13:58:55+09:00"><meta property="article:tag" content="WSL2"><base href=https://caphosra.net/posts/wsl2-setup/><title>WSL2を使えるようにする · caphosra note
</title><link rel=canonical href=https://caphosra.net/posts/wsl2-setup/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><style defer>@import 'https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&display=swap'</style><link rel=stylesheet href=https://caphosra.net/css/coder.min.70f3e69b472ec0878dad3a4928700ac7d4dc99e9a09a656210c5862dcf0acfe7.css integrity="sha256-cPPmm0cuwIeNrTpJKHAKx9TcmemgmmViEMWGLc8Kz+c=" crossorigin=anonymous media=screen><script src=https://cdn.jsdelivr.net/npm/gist-embed@1.0.3/dist/gist-embed.min.js defer></script><link rel=icon type=image/png href=https://caphosra.net/images/logo/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://caphosra.net/images/logo/favicon-16x16.png sizes=16x16><meta name=generator content="Hugo 0.139.3"><style type=text/css>.icon{font-size:2.5em}</style></head><body class=colorscheme-light><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://caphosra.net/>caphosra note
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://caphosra.net/>About</a></li><li class=navigation-item><a class=navigation-link href=https://caphosra.net/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://caphosra.net/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=https://caphosra.net/archives/>Archives</a></li><li class=navigation-item><a class=navigation-link href=https://github.com/caphosra>GitHub</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=https://caphosra.net/en/>English</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://caphosra.net/posts/wsl2-setup/>WSL2を使えるようにする</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2020-03-14T20:04:43+09:00>3月 14, 2020
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
1分で読めます</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=https://caphosra.net/tags/wsl2/>WSL2</a></span></div></div></header><div class=post-content><p>Windows上でLinuxをエミュレートしてくれるWSLが進化を遂げ&mldr;<br>遂にWSL2が使用出来るようになりました!やったね!</p><p>このニュースを聞いたら、当然プログラマー的には使ってみたくなりますよね。<br>ということで、気楽にインストールしようとしたら&mldr;&ldquo;あれ?コマンドがないよ"みたいにWindowsに怒られてしまいました。</p><p>WSL2を使用出来るようにするのは一筋縄ではいかなかったので使用できるまでの道筋を紹介していきたいと思います。</p><p>WSL2はまだ安定していない様なので <strong>あくまで自己責任で</strong> お願いします。</p><h2 id=まずwindowsをアップデート>まず、Windowsをアップデート
<a class=heading-link href=#%e3%81%be%e3%81%9awindows%e3%82%92%e3%82%a2%e3%83%83%e3%83%97%e3%83%87%e3%83%bc%e3%83%88><i class="fa-solid fa-link" aria-hidden=true title=見出しへのリンク></i>
<span class=sr-only>見出しへのリンク</span></a></h2><p>実は、私はこれを忘れて数分溶かしました。</p><blockquote><p>WSL 2 is only available in Windows 10 builds 18917 or higher<br><a href=https://docs.microsoft.com/en-us/windows/wsl/wsl2-install class=external-link target=_blank rel=noopener>Microsoft - WSL2 Install</a></p></blockquote><p>なるほど、Windows 10のビルド番号18917番以降を持っている必要があるのですね。<br>しかしながら、ただ、愚直にWindowsをアップデートしても、現段階では18917番以前のものになってしまいます。(バージョン確認にはwinverコマンドを)</p><p>それを解決するために、<a href=https://insider.windows.com/en-us/ class=external-link target=_blank rel=noopener>Windows Insider</a>に加入しましょう。<br>これは、Windowsの新しいバージョンをMicrosoftが配布し、問題を見つけたら報告するというシステムです。<br>試験的な内容をいち早く使うことが出来ます。</p><p>Microsoftアカウントを持っていると登録は一瞬で終わります。なんと、<strong>無料</strong>　です。</p><p>続いて設定を開きます。そして"更新とセキュリティ"をクリック。</p><img src=https://caphosra.net/images/wsl2-setup/settings.jpg alt="Windows settings" class=center width=900 height=300>
<img src=https://caphosra.net/images/wsl2-setup/windows-insider-program.jpg alt="Windows Insider Program" class=center width=300 height=600><p>&ldquo;Windows Insider Program"をクリックして、ログインしてください。<br>Insiderの設定は"スロー"で問題ないと思います。</p><p>続いて、&ldquo;Windows Update"に移って、&ldquo;更新プログラムのチェック"をクリック。
先程までなかった、より新しいWindows 10のバージョンへの更新ができるようになります!
これで、先程のWindowsバージョン問題は解決です。あとは、ひたすらWindows Updateを見る会です。</p><h2 id=wslをインストールしていく>WSLをインストールしていく
<a class=heading-link href=#wsl%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%97%e3%81%a6%e3%81%84%e3%81%8f><i class="fa-solid fa-link" aria-hidden=true title=見出しへのリンク></i>
<span class=sr-only>見出しへのリンク</span></a></h2><p>WSLのインストール方法は通常の方法と同じなので割愛します。<br>以下のサイトがわかりやすかったです。(<del>丸投げ</del>)</p><p><a href=https://qiita.com/Aruneko/items/c79810b0b015bebf30bb class=external-link target=_blank rel=noopener>Qitta - Windows Subsystem for Linuxをインストールしてみよう！ @Aruneko</a></p><p>本当にWSLのインストールと同じです。<br>WSLを既にインストールしているよ、という方はここをスルーしても大丈夫です。</p><h2 id=wsl2へ変更しましょう>WSL2へ変更しましょう
<a class=heading-link href=#wsl2%e3%81%b8%e5%a4%89%e6%9b%b4%e3%81%97%e3%81%be%e3%81%97%e3%82%87%e3%81%86><i class="fa-solid fa-link" aria-hidden=true title=見出しへのリンク></i>
<span class=sr-only>見出しへのリンク</span></a></h2><p><a href=https://docs.microsoft.com/en-us/windows/wsl/wsl2-kernel class=external-link target=_blank rel=noopener>Microsoft - Updating WSL2 Linux kernel</a></p><p>このサイトに飛んで、WSL2のカーネルを入手します。<br>ダウンロードしてきたインストーラーを実行しましょう!</p><img src=https://caphosra.net/images/wsl2-setup/update-setup.jpg alt="WSL2 Kernel Installer" class=center width=450 height=360><p>インストールが終わったら長かったWSL2セットアップももうすぐおしまいです。<br>好きなターミナルを開いて以下のコマンドを打ち込んで実行してください!</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>wsl --set-default-version 2
</span></span></code></pre></div><img src=https://caphosra.net/images/wsl2-setup/command-prompt.jpg alt="Running command" class=center width=860 height=210><p>おめでとうございます!これであなたもWSL2デビュー!</p><h2 id=おわりに>おわりに
<a class=heading-link href=#%e3%81%8a%e3%82%8f%e3%82%8a%e3%81%ab><i class="fa-solid fa-link" aria-hidden=true title=見出しへのリンク></i>
<span class=sr-only>見出しへのリンク</span></a></h2><p>いかがだったでしょうか?意外と簡単でしたね。(<del>どの口が言う!</del>)待ち時間が長めでしたが。<br>WSL2で更にWindowsでの開発をブーストしていきましょう!</p><p>質問等あればコメント欄にお願いします。</p></div><footer><div class=comments><script>let getTheme=window.localStorage&&window.localStorage.getItem("colorscheme"),themeInParams="";getTheme==null&&(themeInParams!==""&&themeInParams!=="auto"?getTheme=themeInParams:getTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");let theme=getTheme==="dark"?"github-dark":"github-light",s=document.createElement("script");s.src="https://utteranc.es/client.js",s.setAttribute("repo","caphosra/caphosra.github.io"),s.setAttribute("issue-term","title"),s.setAttribute("theme",theme),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></footer></article></section></div><footer class=footer><section class=container><p>Footer? なにそれ美味しいの?</p>© 2019 - 2024
caphosra</section></footer></main></body></html>